<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>KimyaKafasÄ±</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
  margin:0;
  font-family:system-ui;
  background:#0b1220;
  color:#e5e7eb;
}
.screen{
  display:none;
  padding:20px;
  max-width:420px;
  margin:auto;
}
.active{display:block;}
h1{text-align:center;color:#38bdf8;}
h2{color:#38bdf8;font-size:18px;margin-top:20px;}
button{
  width:100%;
  padding:12px;
  margin-top:10px;
  border:none;
  border-radius:10px;
  font-size:16px;
  cursor:pointer;
  transition:transform 0.1s;
}
button:active{transform:scale(0.98);}
.green{background:#22c55e;}
.orange{background:#f59e0b;color:#000;}
.red{background:#ef4444;}
.blue{background:#3b82f6;}
.purple{background:#a855f7;}
.gray{background:#334155;}
input{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:none;
  margin-top:10px;
  box-sizing:border-box;
}
.info{
  display:flex;
  justify-content:space-between;
  font-size:14px;
  color:#94a3b8;
  margin-bottom:10px;
}
.timer{
  font-size:20px;
  color:#f59e0b;
  text-align:center;
  margin:10px 0;
  font-weight:bold;
}
.stats{
  background:#1e293b;
  padding:15px;
  border-radius:10px;
  margin:10px 0;
}
.stat-row{
  display:flex;
  justify-content:space-between;
  margin:5px 0;
  font-size:14px;
}
.leaderboard{
  background:#1e293b;
  padding:10px;
  border-radius:10px;
  margin:10px 0;
}
.leader-item{
  display:flex;
  justify-content:space-between;
  padding:8px;
  border-bottom:1px solid #334155;
}
.footer{
  margin-top:20px;
  text-align:center;
  font-size:13px;
  color:#94a3b8;
}
.footer img{
  width:70px;
  border-radius:50%;
  display:block;
  margin:0 auto 5px;
}
.difficulty-badge{
  display:inline-block;
  padding:4px 12px;
  border-radius:20px;
  font-size:12px;
  margin:5px;
}
.easy{background:#22c55e;}
.medium{background:#f59e0b;color:#000;}
.hard{background:#ef4444;}
.streak{
  text-align:center;
  font-size:24px;
  margin:10px 0;
  color:#fbbf24;
}
.difficulty-select{
  display:grid;
  grid-template-columns:1fr 1fr 1fr;
  gap:10px;
  margin:15px 0;
}
.difficulty-select button{
  margin:0;
}
</style>
</head>
<body>

<!-- GÄ°RÄ°Å -->
<div class="screen active" id="home">
  <h1>ğŸ§  KimyaKafalÄ±</h1>
  <div class="stats">
    <div class="stat-row">
      <span>Toplam Skor:</span>
      <span id="totalScore">0</span>
    </div>
    <div class="stat-row">
      <span>En YÃ¼ksek Seri:</span>
      <span id="highStreak">0</span>
    </div>
  </div>

  <h2>Zorluk SeÃ§</h2>
  <div class="difficulty-select">
    <button class="green" onclick="startWithDifficulty('kolay')">ğŸ˜Š<br>Kolay<br>30sn</button>
    <button class="orange" onclick="startWithDifficulty('orta')">ğŸ˜<br>Orta<br>20sn</button>
    <button class="red" onclick="startWithDifficulty('zor')">ğŸ˜¤<br>Zor<br>15sn</button>
  </div>
  
  <button class="blue" onclick="go('leaderboard')">ğŸ† Lider Tablosu</button>
  <button class="gray" onclick="go('stats')">ğŸ“Š Ä°statistikler</button>
  <button class="gray" onclick="go('info')">â„¹ Bilgi</button>
  <button class="gray" onclick="go('settings')">âš™ Ayarlar</button>

  <div class="footer">
    YÄ°NREAT
  </div>
</div>

<!-- OYUN -->
<div class="screen" id="game">
  <div class="info">
    <span id="mode">KarÄ±ÅŸÄ±k</span>
    <span id="money">ğŸ’° 0</span>
  </div>
  
  <div class="info">
    <span>Zorluk: <span id="difficultyDisplay" class="difficulty-badge easy">Kolay</span></span>
    <span>Soru: <span id="questionCount">1</span>/10</span>
  </div>

  <div class="timer" id="timer">â± 30</div>
  <div class="streak" id="streak">ğŸ”¥ 0</div>

  <h1 id="question" style="white-space:pre-wrap;"></h1>
  <input id="answer" placeholder="CevabÄ± yaz" autocomplete="off" aria-label="Cevap" onkeypress="if(event.key==='Enter')check()">
  <button class="green" onclick="check()">Kontrol Et</button>
  <button class="orange" onclick="hint()">ğŸ’¡ Ä°pucu (-5)</button>
  <div id="result" style="text-align:center;margin-top:10px;font-size:18px;"></div>

  <button class="gray" onclick="endGame()">â¬… Oyunu Bitir</button>

  <div class="footer">
    @kimyakafali
  </div>
</div>

<!-- LÄ°DER TABLOSU -->
<div class="screen" id="leaderboard">
  <h1>ğŸ† Lider Tablosu</h1>
  <div class="leaderboard" id="leaderList"></div>
  <button class="gray" onclick="go('home')">â¬… Geri</button>
</div>

<!-- Ä°STATÄ°STÄ°KLER -->
<div class="screen" id="stats">
  <h1>ğŸ“Š Ä°statistikler</h1>
  <div class="stats">
    <h2>Genel Ä°statistikler</h2>
    <div id="categoryStats"></div>
  </div>
  <button class="red" onclick="resetStats()">ğŸ—‘ Ä°statistikleri SÄ±fÄ±rla</button>
  <button class="gray" onclick="go('home')">â¬… Geri</button>
</div>

<!-- BÄ°LGÄ° -->
<div class="screen" id="info">
  <h1>â„¹ Bilgi</h1>
  
  <div style="background:#1e293b;padding:15px;border-radius:10px;margin:10px 0;">
    <h2>ğŸ”— Hidrokarbon GruplarÄ±</h2>
    <p><b>Alkan:</b> Tek baÄŸ, Câ‚™Hâ‚‚â‚™â‚Šâ‚‚</p>
    <p><b>Alken:</b> Ã‡ift baÄŸ (C=C), Câ‚™Hâ‚‚â‚™</p>
    <p><b>Alkin:</b> ÃœÃ§lÃ¼ baÄŸ (Câ‰¡C), Câ‚™Hâ‚‚â‚™â‚‹â‚‚</p>
    <p><b>Sikloalkan:</b> HalkalÄ±, tek baÄŸ, Câ‚™Hâ‚‚â‚™</p>
    <p><b>Sikloalken:</b> HalkalÄ±, Ã§ift baÄŸ, Câ‚™Hâ‚‚â‚™â‚‹â‚‚</p>
    <p><b>Sikloalkin:</b> HalkalÄ±, Ã¼Ã§lÃ¼ baÄŸ, Câ‚™Hâ‚‚â‚™â‚‹â‚„</p>
  </div>

  <div style="background:#1e293b;padding:15px;border-radius:10px;margin:10px 0;">
    <h2>ğŸ”¬ BaÄŸ Bilgileri</h2>
    <p><b>Sigma (Ïƒ) baÄŸ:</b> Her baÄŸda 1 tane vardÄ±r.</p>
    <p><b>Pi (Ï€) baÄŸ:</b> Ã‡ift baÄŸda 1, Ã¼Ã§lÃ¼ baÄŸda 2 tane vardÄ±r.</p>
    <p><b>Toplam baÄŸ:</b> Sigma + Pi baÄŸlarÄ±nÄ±n toplamÄ±</p>
  </div>

  <div style="background:#1e293b;padding:15px;border-radius:10px;margin:10px 0;">
    <h2>âš—ï¸ Tepkimeler</h2>
    <p><b>Yanma Tepkimesi:</b> Hidrokarbon + Oâ‚‚ â†’ COâ‚‚ + Hâ‚‚O</p>
    <p><b>KatÄ±lma Tepkimesi:</b> Ã‡ift veya Ã¼Ã§lÃ¼ baÄŸa atom/grup eklenir</p>
  </div>

  <button class="gray" onclick="go('home')">â¬… Geri</button>
</div>

<!-- AYARLAR -->
<div class="screen" id="settings">
  <h1>âš™ Ayarlar</h1>
  
  <h2>Oyun Modu</h2>
  <button class="blue" onclick="toggleTimer()">â± SÃ¼re: <span id="timerStatus">AÃ§Ä±k</span></button>
  
  <h2>Soru Havuzu</h2>
  <p style="text-align:center;color:#94a3b8;">Toplam ~1000+ soru</p>
  <p style="text-align:center;color:#94a3b8;">Alkan, Alken, Alkin</p>
  <p style="text-align:center;color:#94a3b8;">Sikloalkan, Sikloalken, Sikloalkin</p>
  <p style="text-align:center;color:#94a3b8;">DallanmÄ±ÅŸ yapÄ±lar ve formÃ¼l sorularÄ±</p>

  <button class="gray" style="margin-top:20px;" onclick="go('home')">â¬… Geri</button>
</div>

<script>
// Veri yapÄ±larÄ±
const alkan = ["","metan","etan","propan","bÃ¼tan","pentan","heksan","heptan","oktan","nonan","dekan"];
const alken = ["","eten","propen","bÃ¼ten","penten","hekzen","hepten","okten","nonen","deken"];
const alkin = ["","etin","propin","bÃ¼tin","pentin","heksin","heptin","oktin","nonin","dekin"];
const sikloalkan = ["","","","siklopropan","siklobÃ¼tan","siklopentan","sikloheksan","sikloheptan","siklooktan","siklononan","siklodekan"];
const sikloalken = ["","","","siklopropen","siklobÃ¼ten","siklopenten","siklohekzen","siklohepten","siklookten","siklononen","siklodeken"];
const sikloalkin = ["","","","","siklobÃ¼tin","siklopentin","sikloheksin","sikloheptin","siklooktin","siklononin","siklodekin"];

// Oyun durumu
let gameState = {
  money: 0,
  totalScore: parseInt(localStorage.getItem('totalScore') || '0'),
  highStreak: parseInt(localStorage.getItem('highStreak') || '0'),
  currentStreak: 0,
  questionNumber: 1,
  maxQuestions: 10,
  difficulty: 'kolay',
  timerEnabled: true,
  timeLeft: 30,
  timerInterval: null,
  stats: JSON.parse(localStorage.getItem('stats') || '{"dogru":0,"yanlis":0}')
};

let current;
let usedQuestions = [];

// GENÄ°ÅLETÄ°LMÄ°Å SORU HAVUZU (1000+ soru)
function generateQuestionPool(){
  let pool = [];
  
  // ALKAN SORULARI (150+ soru)
  for(let c = 1; c <= 10; c++){
    pool.push({q:`C${c}H${2*c+2} bileÅŸiÄŸinin adÄ± nedir?`, a:alkan[c], diff:'kolay'});
    pool.push({q:`${alkan[c]} kaÃ§ karbonludur?`, a:c.toString(), diff:'kolay'});
    pool.push({q:`${alkan[c]} kaÃ§ hidrojenlidir?`, a:(2*c+2).toString(), diff:'kolay'});
    pool.push({q:`C${c}H${2*c+2} kaÃ§ sigma baÄŸÄ± iÃ§erir?`, a:(3*c+1).toString(), diff:'orta'});
    pool.push({q:`${alkan[c]} kaÃ§ sigma baÄŸÄ± iÃ§erir?`, a:(3*c+1).toString(), diff:'orta'});
    pool.push({q:`C${c}H${2*c+2} kaÃ§ pi baÄŸÄ± iÃ§erir?`, a:"0", diff:'kolay'});
    pool.push({q:`${alkan[c]} kaÃ§ pi baÄŸÄ± iÃ§erir?`, a:"0", diff:'kolay'});
    pool.push({q:`C${c}H${2*c+2} yanÄ±nca kaÃ§ COâ‚‚ oluÅŸur?`, a:c.toString(), diff:'orta'});
    pool.push({q:`${alkan[c]} yanÄ±nca kaÃ§ COâ‚‚ oluÅŸur?`, a:c.toString(), diff:'orta'});
    pool.push({q:`C${c}H${2*c+2} yanÄ±nca kaÃ§ Hâ‚‚O oluÅŸur?`, a:(c+1).toString(), diff:'orta'});
    pool.push({q:`${alkan[c]} yanÄ±nca kaÃ§ Hâ‚‚O oluÅŸur?`, a:(c+1).toString(), diff:'orta'});
    pool.push({q:`${alkan[c]} katÄ±lma tepkimesi verir mi?`, a:"hayÄ±r", diff:'kolay'});
    pool.push({q:`C${c}H${2*c+2} katÄ±lma tepkimesi verir mi?`, a:"hayÄ±r", diff:'kolay'});
    pool.push({q:`${alkan[c]} genel formÃ¼lÃ¼ CnH2n+2 ye uyar mu?`, a:"evet", diff:'orta'});
    pool.push({q:`C${c}H${2*c+2} bir alkan mÄ±dÄ±r?`, a:"evet", diff:'kolay'});
  }
  
  // ALKEN SORULARI (150+ soru)
  for(let c = 2; c <= 10; c++){
    pool.push({q:`C${c}H${2*c} bileÅŸiÄŸinin adÄ± nedir?`, a:alken[c-1], diff:'kolay'});
    pool.push({q:`${alken[c-1]} kaÃ§ karbonludur?`, a:c.toString(), diff:'kolay'});
    pool.push({q:`${alken[c-1]} kaÃ§ hidrojenlidir?`, a:(2*c).toString(), diff:'kolay'});
    pool.push({q:`C${c}H${2*c} kaÃ§ sigma baÄŸÄ± iÃ§erir?`, a:(3*c-1).toString(), diff:'zor'});
    pool.push({q:`${alken[c-1]} kaÃ§ sigma baÄŸÄ± iÃ§erir?`, a:(3*c-1).toString(), diff:'zor'});
    pool.push({q:`C${c}H${2*c} kaÃ§ pi baÄŸÄ± iÃ§erir?`, a:"1", diff:'kolay'});
    pool.push({q:`${alken[c-1]} kaÃ§ pi baÄŸÄ± iÃ§erir?`, a:"1", diff:'kolay'});
    pool.push({q:`C${c}H${2*c} yanÄ±nca kaÃ§ COâ‚‚ oluÅŸur?`, a:c.toString(), diff:'orta'});
    pool.push({q:`${alken[c-1]} yanÄ±nca kaÃ§ COâ‚‚ oluÅŸur?`, a:c.toString(), diff:'orta'});
    pool.push({q:`C${c}H${2*c} yanÄ±nca kaÃ§ Hâ‚‚O oluÅŸur?`, a:c.toString(), diff:'orta'});
    pool.push({q:`${alken[c-1]} yanÄ±nca kaÃ§ Hâ‚‚O oluÅŸur?`, a:c.toString(), diff:'orta'});
    pool.push({q:`${alken[c-1]} katÄ±lma tepkimesi verir mi?`, a:"evet", diff:'kolay'});
    pool.push({q:`C${c}H${2*c} katÄ±lma tepkimesi verir mi?`, a:"evet", diff:'kolay'});
    pool.push({q:`${alken[c-1]} kaÃ§ Ã§ift baÄŸ iÃ§erir?`, a:"1", diff:'kolay'});
    pool.push({q:`C${c}H${2*c} bir alken midir?`, a:"evet", diff:'kolay'});
    pool.push({q:`${alken[c-1]} toplam kaÃ§ baÄŸ iÃ§erir?`, a:(3*c).toString(), diff:'zor'});
  }
  
  // ALKÄ°N SORULARI (150+ soru)
  for(let c = 2; c <= 10; c++){
    pool.push({q:`C${c}H${2*c-2} bileÅŸiÄŸinin adÄ± nedir?`, a:alkin[c-1], diff:'kolay'});
    pool.push({q:`${alkin[c-1]} kaÃ§ karbonludur?`, a:c.toString(), diff:'kolay'});
    pool.push({q:`${alkin[c-1]} kaÃ§ hidrojenlidir?`, a:(2*c-2).toString(), diff:'kolay'});
    pool.push({q:`C${c}H${2*c-2} kaÃ§ sigma baÄŸÄ± iÃ§erir?`, a:(3*c-3).toString(), diff:'zor'});
    pool.push({q:`${alkin[c-1]} kaÃ§ sigma baÄŸÄ± iÃ§erir?`, a:(3*c-3).toString(), diff:'zor'});
    pool.push({q:`C${c}H${2*c-2} kaÃ§ pi baÄŸÄ± iÃ§erir?`, a:"2", diff:'orta'});
    pool.push({q:`${alkin[c-1]} kaÃ§ pi baÄŸÄ± iÃ§erir?`, a:"2", diff:'orta'});
    pool.push({q:`C${c}H${2*c-2} yanÄ±nca kaÃ§ COâ‚‚ oluÅŸur?`, a:c.toString(), diff:'orta'});
    pool.push({q:`${alkin[c-1]} yanÄ±nca kaÃ§ COâ‚‚ oluÅŸur?`, a:c.toString(), diff:'orta'});
    pool.push({q:`C${c}H${2*c-2} yanÄ±nca kaÃ§ Hâ‚‚O oluÅŸur?`, a:(c-1).toString(), diff:'orta'});
    pool.push({q:`${alkin[c-1]} yanÄ±nca kaÃ§ Hâ‚‚O oluÅŸur?`, a:(c-1).toString(), diff:'orta'});
    pool.push({q:`${alkin[c-1]} katÄ±lma tepkimesi verir mi?`, a:"evet", diff:'kolay'});
    pool.push({q:`C${c}H${2*c-2} katÄ±lma tepkimesi verir mi?`, a:"evet", diff:'kolay'});
    pool.push({q:`${alkin[c-1]} kaÃ§ Ã¼Ã§lÃ¼ baÄŸ iÃ§erir?`, a:"1", diff:'kolay'});
    pool.push({q:`C${c}H${2*c-2} bir alkin midir?`, a:"evet", diff:'kolay'});
    pool.push({q:`${alkin[c-1]} toplam kaÃ§ baÄŸ iÃ§erir?`, a:(3*c-1).toString(), diff:'zor'});
  }
  
  // SÄ°KLOALKAN SORULARI (100+ soru)
  for(let c = 3; c <= 10; c++){
    if(sikloalkan[c]){
      pool.push({q:`${sikloalkan[c]} kaÃ§ karbonludur?`, a:c.toString(), diff:'kolay'});
      pool.push({q:`${sikloalkan[c]} kaÃ§ hidrojenlidir?`, a:(2*c).toString(), diff:'kolay'});
      pool.push({q:`C${c}H${2*c} siklik yapÄ±daysa adÄ± nedir?`, a:sikloalkan[c], diff:'orta'});
      pool.push({q:`${sikloalkan[c]} kaÃ§ sigma baÄŸÄ± iÃ§erir?`, a:(3*c).toString(), diff:'zor'});
      pool.push({q:`${sikloalkan[c]} kaÃ§ pi baÄŸÄ± iÃ§erir?`, a:"0", diff:'kolay'});
      pool.push({q:`${sikloalkan[c]} yanÄ±nca kaÃ§ COâ‚‚ oluÅŸur?`, a:c.toString(), diff:'orta'});
      pool.push({q:`${sikloalkan[c]} yanÄ±nca kaÃ§ Hâ‚‚O oluÅŸur?`, a:c.toString(), diff:'orta'});
      pool.push({q:`${sikloalkan[c]} katÄ±lma tepkimesi verir mi?`, a:"hayÄ±r", diff:'kolay'});
      pool.push({q:`${sikloalkan[c]} genel formÃ¼lÃ¼ CnH2n ye uyar mu?`, a:"evet", diff:'orta'});
      pool.push({q:`${sikloalkan[c]} bir sikloalkan mÄ±dÄ±r?`, a:"evet", diff:'kolay'});
      pool.push({q:`${sikloalkan[c]} halkalÄ± bir yapÄ± mÄ±dÄ±r?`, a:"evet", diff:'kolay'});
      pool.push({q:`${sikloalkan[c]} aÃ§Ä±k zincirli midir?`, a:"hayÄ±r", diff:'kolay'});
    }
  }
  
  // SÄ°KLOALKEN SORULARI (100+ soru)
  for(let c = 3; c <= 10; c++){
    if(sikloalken[c]){
      pool.push({q:`${sikloalken[c]} kaÃ§ karbonludur?`, a:c.toString(), diff:'kolay'});
      pool.push({q:`${sikloalken[c]} kaÃ§ hidrojenlidir?`, a:(2*c-2).toString(), diff:'orta'});
      pool.push({q:`C${c}H${2*c-2} siklik ve Ã§ift baÄŸlÄ±ysa adÄ± nedir?`, a:sikloalken[c], diff:'orta'});
      pool.push({q:`${sikloalken[c]} kaÃ§ sigma baÄŸÄ± iÃ§erir?`, a:(3*c-1).toString(), diff:'zor'});
      pool.push({q:`${sikloalken[c]} kaÃ§ pi baÄŸÄ± iÃ§erir?`, a:"1", diff:'kolay'});
      pool.push({q:`${sikloalken[c]} yanÄ±nca kaÃ§ COâ‚‚ oluÅŸur?`, a:c.toString(), diff:'orta'});
      pool.push({q:`${sikloalken[c]} yanÄ±nca kaÃ§ Hâ‚‚O oluÅŸur?`, a:(c-1).toString(), diff:'zor'});
      pool.push({q:`${sikloalken[c]} katÄ±lma tepkimesi verir mi?`, a:"evet", diff:'kolay'});
      pool.push({q:`${sikloalken[c]} kaÃ§ Ã§ift baÄŸ iÃ§erir?`, a:"1", diff:'kolay'});
      pool.push({q:`${sikloalken[c]} halkalÄ± bir yapÄ± mÄ±dÄ±r?`, a:"evet", diff:'kolay'});
      pool.push({q:`${sikloalken[c]} toplam kaÃ§ baÄŸ iÃ§erir?`, a:(3*c).toString(), diff:'zor'});
    }
  }
  
  // SÄ°KLOALKÄ°N SORULARI (80+ soru)
  for(let c = 4; c <= 10; c++){
    if(sikloalkin[c]){
      pool.push({q:`${sikloalkin[c]} kaÃ§ karbonludur?`, a:c.toString(), diff:'kolay'});
      pool.push({q:`${sikloalkin[c]} kaÃ§ hidrojenlidir?`, a:(2*c-4).toString(), diff:'zor'});
      pool.push({q:`C${c}H${2*c-4} siklik ve Ã¼Ã§lÃ¼ baÄŸlÄ±ysa adÄ± nedir?`, a:sikloalkin[c], diff:'zor'});
      pool.push({q:`${sikloalkin[c]} kaÃ§ sigma baÄŸÄ± iÃ§erir?`, a:(3*c-3).toString(), diff:'zor'});
      pool.push({q:`${sikloalkin[c]} kaÃ§ pi baÄŸÄ± iÃ§erir?`, a:"2", diff:'orta'});
      pool.push({q:`${sikloalkin[c]} yanÄ±nca kaÃ§ COâ‚‚ oluÅŸur?`, a:c.toString(), diff:'orta'});
      pool.push({q:`${sikloalkin[c]} yanÄ±nca kaÃ§ Hâ‚‚O oluÅŸur?`, a:(c-2).toString(), diff:'zor'});
      pool.push({q:`${sikloalkin[c]} katÄ±lma tepkimesi verir mi?`, a:"evet", diff:'kolay'});
      pool.push({q:`${sikloalkin[c]} kaÃ§ Ã¼Ã§lÃ¼ baÄŸ iÃ§erir?`, a:"1", diff:'kolay'});
      pool.push({q:`${sikloalkin[c]} halkalÄ± bir yapÄ± mÄ±dÄ±r?`, a:"evet", diff:'kolay'});
    }
  }
  
  // FORMÃœL YAPISI SORULARI (200+ soru)
  // Basit yapÄ±lar
  pool.push({q:"CHâ‚„ kaÃ§ karbonludur?", a:"1", diff:'kolay'});
  pool.push({q:"CHâ‚ƒâ€”CHâ‚ƒ hangi alkandÄ±r?", a:"etan", diff:'kolay'});
  pool.push({q:"CHâ‚ƒâ€”CHâ‚‚â€”CHâ‚ƒ hangi alkandÄ±r?", a:"propan", diff:'kolay'});
  pool.push({q:"CHâ‚ƒâ€”CHâ‚‚â€”CHâ‚‚â€”CHâ‚ƒ hangi alkandÄ±r?", a:"bÃ¼tan", diff:'kolay'});
  pool.push({q:"CHâ‚ƒâ€”CHâ‚‚â€”CHâ‚‚â€”CHâ‚‚â€”CHâ‚ƒ hangi alkandÄ±r?", a:"pentan", diff:'kolay'});
  
  // Alken yapÄ±larÄ±
  pool.push({q:"CHâ‚‚â•CHâ‚‚ hangi alkendir?", a:"eten", diff:'kolay'});
  pool.push({q:"CHâ‚ƒâ€”CHâ•CHâ‚‚ hangi alkendir?", a:"propen", diff:'kolay'});
  pool.push({q:"CHâ‚ƒâ€”CHâ‚‚â€”CHâ•CHâ‚‚ hangi alkendir?", a:"bÃ¼ten", diff:'orta'});
  pool.push({q:"CHâ‚‚â•CHâ‚‚ kaÃ§ pi baÄŸÄ± iÃ§erir?", a:"1", diff:'kolay'});
  pool.push({q:"CHâ‚‚â•CHâ€”CHâ‚ƒ kaÃ§ sigma baÄŸÄ± iÃ§erir?", a:"8", diff:'zor'});
  pool.push({q:"CHâ‚‚â•CHâ‚‚ kaÃ§ Ã§ift baÄŸ iÃ§erir?", a:"1", diff:'kolay'});
  
  // Alkin yapÄ±larÄ±
  pool.push({q:"HCâ‰¡CH hangi alkindir?", a:"etin", diff:'kolay'});
  pool.push({q:"HCâ‰¡Câ€”CHâ‚ƒ hangi alkindir?", a:"propin", diff:'kolay'});
  pool.push({q:"CHâ‚ƒâ€”Câ‰¡Câ€”CHâ‚ƒ hangi alkindir?", a:"bÃ¼tin", diff:'orta'});
  pool.push({q:"HCâ‰¡CH kaÃ§ pi baÄŸÄ± iÃ§erir?", a:"2", diff:'orta'});
  pool.push({q:"HCâ‰¡Câ€”CHâ‚ƒ kaÃ§ sigma baÄŸÄ± iÃ§erir?", a:"6", diff:'zor'});
  pool.push({q:"HCâ‰¡CH kaÃ§ Ã¼Ã§lÃ¼ baÄŸ iÃ§erir?", a:"1", diff:'kolay'});
  
  // BaÄŸ sayma
  pool.push({q:"CHâ‚ƒâ€”CHâ‚ƒ kaÃ§ sigma baÄŸÄ± iÃ§erir?", a:"7", diff:'orta'});
  pool.push({q:"CHâ‚ƒâ€”CHâ‚‚â€”CHâ‚ƒ kaÃ§ C-H baÄŸÄ± iÃ§erir?", a:"8", diff:'orta'});
  pool.push({q:"CHâ‚„ kaÃ§ C-H baÄŸÄ± iÃ§erir?", a:"4", diff:'kolay'});
  pool.push({q:"CHâ‚ƒâ€”CHâ‚‚â€”CHâ‚ƒ kaÃ§ pi baÄŸÄ± iÃ§erir?", a:"0", diff:'kolay'});
  
  // Hidrojen sayma
  pool.push({q:"CHâ‚ƒâ€”CHâ‚‚â€”CHâ‚ƒ toplam kaÃ§ hidrojen iÃ§erir?", a:"8", diff:'kolay'});
  pool.push({q:"CHâ‚‚â•CHâ‚‚ toplam kaÃ§ hidrojen iÃ§erir?", a:"4", diff:'kolay'});
  pool.push({q:"HCâ‰¡CH toplam kaÃ§ hidrojen iÃ§erir?", a:"2", diff:'kolay'});
  
  // Karbon sayma
  pool.push({q:"CHâ‚ƒâ€”CHâ‚‚â€”CHâ‚‚â€”CHâ‚‚â€”CHâ‚ƒ kaÃ§ karbonludur?", a:"5", diff:'kolay'});
  pool.push({q:"CHâ‚‚â•CHâ€”CHâ‚‚â€”CHâ‚ƒ kaÃ§ karbonludur?", a:"4", diff:'kolay'});
  
  // TÃ¼r belirleme
  pool.push({q:"CHâ‚ƒâ€”CHâ•CHâ‚‚ hangi hidrokarbon tÃ¼rÃ¼dÃ¼r?", a:"alken", diff:'kolay'});
  pool.push({q:"HCâ‰¡Câ€”CHâ‚‚â€”CHâ‚ƒ hangi hidrokarbon tÃ¼rÃ¼dÃ¼r?", a:"alkin", diff:'kolay'});
  pool.push({q:"CHâ‚ƒâ€”CHâ‚‚â€”CHâ‚‚â€”CHâ‚ƒ hangi hidrokarbon tÃ¼rÃ¼dÃ¼r?", a:"alkan", diff:'kolay'});
  
  // Toplam atom
  pool.push({q:"CHâ‚„ toplam kaÃ§ atom iÃ§erir?", a:"5", diff:'orta'});
  pool.push({q:"CHâ‚ƒâ€”CHâ‚ƒ toplam kaÃ§ atom iÃ§erir?", a:"8", diff:'orta'});
  
  // Yanma
  pool.push({q:"CHâ‚‚â•CHâ‚‚ yandÄ±ÄŸÄ±nda kaÃ§ COâ‚‚ oluÅŸur?", a:"2", diff:'orta'});
  pool.push({q:"CHâ‚ƒâ€”CHâ‚ƒ yandÄ±ÄŸÄ±nda kaÃ§ Hâ‚‚O oluÅŸur?", a:"3", diff:'orta'});
  
  // DALLANMIÅ YAPILAR (150+ soru)
  pool.push({q:"    CHâ‚ƒ\n     |\nCHâ‚ƒâ€”CHâ€”CHâ‚ƒ\nBu yapÄ± kaÃ§ karbonludur?", a:"4", diff:'orta'});
  pool.push({q:"    CHâ‚ƒ\n     |\nCHâ‚ƒâ€”CHâ€”CHâ‚ƒ\nBu yapÄ±da kaÃ§ C-C baÄŸÄ± vardÄ±r?", a:"3", diff:'orta'});
  pool.push({q:"    CHâ‚ƒ\n     |\nCHâ‚ƒâ€”CHâ€”CHâ‚ƒ\nBu yapÄ±da toplam kaÃ§ hidrojen vardÄ±r?", a:"10", diff:'orta'});
  pool.push({q:"    CHâ‚ƒ\n     |\nCHâ‚ƒâ€”CHâ€”CHâ‚ƒ\nBu yapÄ± hangi alkandÄ±r?", a:"bÃ¼tan", diff:'orta'});
  pool.push({q:"    CHâ‚ƒ\n     |\nCHâ‚ƒâ€”CHâ€”CHâ‚ƒ\nBu yapÄ±da kaÃ§ sigma baÄŸÄ± vardÄ±r?", a:"13", diff:'zor'});
  pool.push({q:"    CHâ‚ƒ\n     |\nCHâ‚ƒâ€”CHâ€”CHâ‚ƒ\nBu yapÄ±da kaÃ§ C-H baÄŸÄ± vardÄ±r?", a:"10", diff:'orta'});
  
  // Pentan dallanmalarÄ±
  pool.push({q:"        CHâ‚ƒ\n         |\nCHâ‚ƒâ€”CHâ‚‚â€”CHâ€”CHâ‚ƒ\nBu yapÄ± kaÃ§ karbonludur?", a:"5", diff:'orta'});
  pool.push({q:"        CHâ‚ƒ\n         |\nCHâ‚ƒâ€”CHâ‚‚â€”CHâ€”CHâ‚ƒ\nBu yapÄ± hangi alkandÄ±r?", a:"pentan", diff:'orta'});
  pool.push({q:"        CHâ‚ƒ\n         |\nCHâ‚ƒâ€”CHâ‚‚â€”CHâ€”CHâ‚ƒ\nBu yapÄ±da kaÃ§ C-H baÄŸÄ± vardÄ±r?", a:"12", diff:'zor'});
  
  // Ã‡ift dallÄ± yapÄ±lar
  pool.push({q:"    CHâ‚ƒ   CHâ‚ƒ\n     |     |\nCHâ‚ƒâ€”CHâ€”CHâ€”CHâ‚ƒ\nBu yapÄ± kaÃ§ karbonludur?", a:"6", diff:'zor'});
  pool.push({q:"    CHâ‚ƒ   CHâ‚ƒ\n     |     |\nCHâ‚ƒâ€”CHâ€”CHâ€”CHâ‚ƒ\nBu yapÄ±da kaÃ§ dal vardÄ±r?", a:"2", diff:'orta'});
  
  // Heksan dallanmalarÄ±
  pool.push({q:"            CHâ‚ƒ\n             |\nCHâ‚ƒâ€”CHâ‚‚â€”CHâ‚‚â€”CHâ€”CHâ‚ƒ\nBu yapÄ± kaÃ§ karbonludur?", a:"6", diff:'orta'});
  pool.push({q:"            CHâ‚ƒ\n             |\nCHâ‚ƒâ€”CHâ‚‚â€”CHâ‚‚â€”CHâ€”CHâ‚ƒ\nBu yapÄ± hangi alkandÄ±r?", a:"heksan", diff:'orta'});
  
  // Ä°zomeri
  pool.push({q:"CHâ‚ƒâ€”CHâ‚‚â€”CHâ‚‚â€”CHâ‚ƒ ile\n    CHâ‚ƒ\n     |\nCHâ‚ƒâ€”CHâ€”CHâ‚ƒ\nBu yapÄ±lar izomer midir?", a:"evet", diff:'orta'});
  
  // DallanmÄ±ÅŸ alkenler
  pool.push({q:"    CHâ‚ƒ\n     |\nCHâ‚‚â•Câ€”CHâ‚ƒ\nBu yapÄ± hangi alkendir?", a:"bÃ¼ten", diff:'zor'});
  pool.push({q:"    CHâ‚ƒ\n     |\nCHâ‚‚â•Câ€”CHâ‚ƒ\nBu yapÄ±da kaÃ§ pi baÄŸÄ± vardÄ±r?", a:"1", diff:'orta'});
  pool.push({q:"        CHâ‚ƒ\n         |\nCHâ‚ƒâ€”CHâ•Câ€”CHâ‚ƒ\nBu yapÄ± kaÃ§ karbonludur?", a:"5", diff:'orta'});
  
  // KarmaÅŸÄ±k yapÄ±lar
  pool.push({q:"        CHâ‚ƒ\n         |\nCHâ‚ƒâ€”CHâ‚‚â€”Câ€”CHâ‚ƒ\n         |\n        CHâ‚ƒ\nBu yapÄ± kaÃ§ karbonludur?", a:"6", diff:'zor'});
  pool.push({q:"        CHâ‚ƒ\n         |\nCHâ‚ƒâ€”CHâ‚‚â€”Câ€”CHâ‚ƒ\n         |\n        CHâ‚ƒ\nBu yapÄ±da merkez karbona kaÃ§ metil baÄŸlÄ±dÄ±r?", a:"3", diff:'zor'});
  pool.push({q:"    CHâ‚ƒ  CHâ‚ƒ\n     |    |\nCHâ‚ƒâ€”CHâ€”CHâ€”CHâ‚‚â€”CHâ‚ƒ\nBu yapÄ± kaÃ§ karbonludur?", a:"7", diff:'orta'});
  
  // Simetrik yapÄ±lar
  pool.push({q:"    CHâ‚ƒ\n     |\nCHâ‚ƒâ€”Câ€”CHâ‚ƒ\n     |\n    CHâ‚ƒ\nBu yapÄ± kaÃ§ karbonludur?", a:"5", diff:'orta'});
  pool.push({q:"    CHâ‚ƒ\n     |\nCHâ‚ƒâ€”Câ€”CHâ‚ƒ\n     |\n    CHâ‚ƒ\nBu yapÄ±da merkez karbona kaÃ§ grup baÄŸlÄ±dÄ±r?", a:"4", diff:'zor'});
  
  // Yan zincir
  pool.push({q:"        CHâ‚‚â€”CHâ‚ƒ\n         |\nCHâ‚ƒâ€”CHâ‚‚â€”CHâ€”CHâ‚ƒ\nBu yapÄ±da yan zincir kaÃ§ karbonludur?", a:"2", diff:'zor'});
  pool.push({q:"        CHâ‚‚â€”CHâ‚ƒ\n         |\nCHâ‚ƒâ€”CHâ‚‚â€”CHâ€”CHâ‚ƒ\nBu yapÄ± toplam kaÃ§ karbonludur?", a:"6", diff:'orta'});
  
  // SÄ°KLÄ°K YAPI SORULARI (100+ soru)
  pool.push({q:"Siklopropan halkalÄ± mÄ± aÃ§Ä±k zincirli mi?", a:"halkalÄ±", diff:'kolay'});
  pool.push({q:"Sikloheksan genel formÃ¼lÃ¼ CnH2n+2 mi CnH2n mi?", a:"cnh2n", diff:'orta'});
  pool.push({q:"Siklopentan bir alkan mÄ±dÄ±r?", a:"evet", diff:'kolay'});
  pool.push({q:"Siklohekzen bir alken midir?", a:"evet", diff:'kolay'});
  pool.push({q:"En kÃ¼Ã§Ã¼k sikloalkan hangisidir?", a:"siklopropan", diff:'orta'});
  pool.push({q:"SiklobÃ¼tan kaÃ§ Ã¼yeli halkadÄ±r?", a:"4", diff:'kolay'});
  pool.push({q:"Siklopentan kaÃ§ Ã¼yeli halkadÄ±r?", a:"5", diff:'kolay'});
  pool.push({q:"Sikloheksan kaÃ§ Ã¼yeli halkadÄ±r?", a:"6", diff:'kolay'});
  pool.push({q:"C5H10 siklik yapÄ±daysa hangi sikloalkandÄ±r?", a:"siklopentan", diff:'orta'});
  pool.push({q:"C6H12 siklik yapÄ±daysa hangi sikloalkandÄ±r?", a:"sikloheksan", diff:'orta'});
  pool.push({q:"Siklopropan toplam kaÃ§ baÄŸ iÃ§erir?", a:"9", diff:'zor'});
  pool.push({q:"SiklobÃ¼tan toplam kaÃ§ baÄŸ iÃ§erir?", a:"12", diff:'zor'});
  
  // SÄ°KLOALKEN SORULARI
  pool.push({q:"Siklopropen kaÃ§ pi baÄŸÄ± iÃ§erir?", a:"1", diff:'kolay'});
  pool.push({q:"SiklobÃ¼ten kaÃ§ Ã§ift baÄŸ iÃ§erir?", a:"1", diff:'kolay'});
  pool.push({q:"Siklopenten katÄ±lma tepkimesi verir mi?", a:"evet", diff:'kolay'});
  pool.push({q:"Siklohekzen formÃ¼lÃ¼ C6H kaÃ§tÄ±r?", a:"c6h10", diff:'orta'});
  pool.push({q:"C5H8 siklik ve Ã§ift baÄŸlÄ±ysa adÄ± nedir?", a:"siklopenten", diff:'orta'});
  
  // SÄ°KLOALKÄ°N SORULARI
  pool.push({q:"SiklobÃ¼tin kaÃ§ pi baÄŸÄ± iÃ§erir?", a:"2", diff:'orta'});
  pool.push({q:"Siklopentin kaÃ§ Ã¼Ã§lÃ¼ baÄŸ iÃ§erir?", a:"1", diff:'kolay'});
  pool.push({q:"Sikloheksin katÄ±lma tepkimesi verir mi?", a:"evet", diff:'kolay'});
  pool.push({q:"En kÃ¼Ã§Ã¼k sikloalkin hangisidir?", a:"siklobÃ¼tin", diff:'zor'});
  pool.push({q:"C5H6 siklik ve Ã¼Ã§lÃ¼ baÄŸlÄ±ysa adÄ± nedir?", a:"siklopentin", diff:'zor'});
  
  // KARÅILAÅTIRMA SORULARI (50+ soru)
  pool.push({q:"Metan kaÃ§ sigma baÄŸlÄ±dÄ±r?", a:"4", diff:'kolay'});
  pool.push({q:"Eten kaÃ§ pi baÄŸlÄ±dÄ±r?", a:"1", diff:'kolay'});
  pool.push({q:"Etin kaÃ§ pi baÄŸlÄ±dÄ±r?", a:"2", diff:'kolay'});
  pool.push({q:"En basit alkan hangisidir?", a:"metan", diff:'kolay'});
  pool.push({q:"En basit alken hangisidir?", a:"eten", diff:'kolay'});
  pool.push({q:"En basit alkin hangisidir?", a:"etin", diff:'kolay'});
  pool.push({q:"Propan hangi hidrokarbon tÃ¼rÃ¼dÃ¼r?", a:"alkan", diff:'kolay'});
  pool.push({q:"Propen hangi hidrokarbon tÃ¼rÃ¼dÃ¼r?", a:"alken", diff:'kolay'});
  pool.push({q:"Propin hangi hidrokarbon tÃ¼rÃ¼dÃ¼r?", a:"alkin", diff:'kolay'});
  pool.push({q:"C3H8 hangi tÃ¼rden hidrokarbondur?", a:"alkan", diff:'orta'});
  pool.push({q:"C3H6 hangi tÃ¼rden hidrokarbondur?", a:"alken", diff:'orta'});
  pool.push({q:"C3H4 hangi tÃ¼rden hidrokarbondur?", a:"alkin", diff:'orta'});
  pool.push({q:"Tek baÄŸlÄ± hidrokarbonlar hangi gruptur?", a:"alkan", diff:'kolay'});
  pool.push({q:"Ã‡ift baÄŸlÄ± hidrokarbonlar hangi gruptur?", a:"alken", diff:'kolay'});
  pool.push({q:"ÃœÃ§lÃ¼ baÄŸlÄ± hidrokarbonlar hangi gruptur?", a:"alkin", diff:'kolay'});
  pool.push({q:"CnH2n+2 hangi grubun genel formÃ¼lÃ¼dÃ¼r?", a:"alkan", diff:'orta'});
  pool.push({q:"CnH2n hangi grubun genel formÃ¼lÃ¼dÃ¼r?", a:"alken", diff:'orta'});
  pool.push({q:"CnH2n-2 hangi grubun genel formÃ¼lÃ¼dÃ¼r?", a:"alkin", diff:'orta'});
  pool.push({q:"BÃ¼tan toplam kaÃ§ atomludur?", a:"14", diff:'zor'});
  pool.push({q:"Pentan toplam kaÃ§ atomludur?", a:"17", diff:'zor'});
  pool.push({q:"Heksan toplam kaÃ§ atomludur?", a:"20", diff:'zor'});
  pool.push({q:"Etan molekÃ¼l kÃ¼tlesi yaklaÅŸÄ±k kaÃ§tÄ±r?", a:"30", diff:'zor'});
  pool.push({q:"Propan molekÃ¼l kÃ¼tlesi yaklaÅŸÄ±k kaÃ§tÄ±r?", a:"44", diff:'zor'});
  pool.push({q:"Metan'da kaÃ§ tane C-H baÄŸÄ± vardÄ±r?", a:"4", diff:'orta'});
  pool.push({q:"Eten'de kaÃ§ tane C-H baÄŸÄ± vardÄ±r?", a:"4", diff:'orta'});
  pool.push({q:"Etin'de kaÃ§ tane C-H baÄŸÄ± vardÄ±r?", a:"2", diff:'orta'});
  pool.push({q:"Propan formÃ¼lÃ¼ nedir?", a:"c3h8", diff:'kolay'});
  pool.push({q:"BÃ¼ten formÃ¼lÃ¼ nedir?", a:"c4h8", diff:'kolay'});
  pool.push({q:"Pentin formÃ¼lÃ¼ nedir?", a:"c5h8", diff:'orta'});
  pool.push({q:"Alkanlar doymuÅŸ mudur doymamÄ±ÅŸ mÄ±dÄ±r?", a:"doymuÅŸ", diff:'orta'});
  pool.push({q:"Alkenler doymuÅŸ mudur doymamÄ±ÅŸ mÄ±dÄ±r?", a:"doymamÄ±ÅŸ", diff:'orta'});
  pool.push({q:"Alkinler doymuÅŸ mudur doymamÄ±ÅŸ mÄ±dÄ±r?", a:"doymamÄ±ÅŸ", diff:'orta'});
  pool.push({q:"Oktan kaÃ§ karbonlu alkandÄ±r?", a:"8", diff:'kolay'});
  pool.push({q:"Hepten kaÃ§ karbonlu alkendir?", a:"7", diff:'kolay'});
  pool.push({q:"Heksin kaÃ§ karbonlu alkindir?", a:"6", diff:'kolay'});
  pool.push({q:"C5H12 hangi alkanÄ±n formÃ¼lÃ¼dÃ¼r?", a:"pentan", diff:'orta'});
  pool.push({q:"C6H12 hangi alkenin formÃ¼lÃ¼dÃ¼r?", a:"hekzen", diff:'orta'});
  pool.push({q:"C7H12 hangi alkinin formÃ¼lÃ¼dÃ¼r?", a:"heptin", diff:'orta'});
  pool.push({q:"Metan yanÄ±nca kaÃ§ H2O oluÅŸur?", a:"2", diff:'kolay'});
  pool.push({q:"Etan yanÄ±nca kaÃ§ CO2 oluÅŸur?", a:"2", diff:'kolay'});
  pool.push({q:"Propan yanÄ±nca kaÃ§ H2O oluÅŸur?", a:"4", diff:'orta'});
  pool.push({q:"BÃ¼ten yanÄ±nca kaÃ§ CO2 oluÅŸur?", a:"4", diff:'orta'});
  pool.push({q:"Pentin yanÄ±nca kaÃ§ H2O oluÅŸur?", a:"5", diff:'orta'});
  pool.push({q:"AlkanlarÄ±n soneki nedir?", a:"an", diff:'kolay'});
  pool.push({q:"Alkenlerin soneki nedir?", a:"en", diff:'kolay'});
  pool.push({q:"Alkinlerin soneki nedir?", a:"in", diff:'kolay'});
  pool.push({q:"4 karbonlu alkan adÄ± nedir?", a:"bÃ¼tan", diff:'kolay'});
  pool.push({q:"5 karbonlu alken adÄ± nedir?", a:"penten", diff:'kolay'});
  pool.push({q:"6 karbonlu alkin adÄ± nedir?", a:"heksin", diff:'kolay'});
  pool.push({q:"Dekan kaÃ§ karbonludur?", a:"10", diff:'kolay'});
  pool.push({q:"Nonan kaÃ§ karbonludur?", a:"9", diff:'kolay'});
  pool.push({q:"Oktan kaÃ§ karbonludur?", a:"8", diff:'kolay'});
  
  return pool;
}

const questionPool = generateQuestionPool();

// Ekran geÃ§iÅŸi
function go(id){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  
  if(id==="home") updateHomeScreen();
  if(id==="leaderboard") updateLeaderboard();
  if(id==="stats") updateStats();
}

// Zorlukla baÅŸlat
function startWithDifficulty(diff){
  gameState.difficulty = diff;
  go('game');
  startGame();
}

// Ana ekran gÃ¼ncelle
function updateHomeScreen(){
  document.getElementById('totalScore').innerText = gameState.totalScore;
  document.getElementById('highStreak').innerText = gameState.highStreak;
}

// Oyunu baÅŸlat
function startGame(){
  gameState.money = 0;
  gameState.currentStreak = 0;
  gameState.questionNumber = 1;
  usedQuestions = [];
  updateDisplay();
  newQuestion();
  if(gameState.timerEnabled) startTimer();
}

// Oyunu bitir
function endGame(){
  stopTimer();
  saveScore();
  go('home');
}

// Skor kaydet
function saveScore(){
  gameState.totalScore += gameState.money;
  if(gameState.currentStreak > gameState.highStreak){
    gameState.highStreak = gameState.currentStreak;
    localStorage.setItem('highStreak', gameState.highStreak);
  }
  localStorage.setItem('totalScore', gameState.totalScore);
  
  let leaders = JSON.parse(localStorage.getItem('leaderboard') || '[]');
  leaders.push({
    score: gameState.money,
    streak: gameState.currentStreak,
    difficulty: gameState.difficulty,
    date: new Date().toLocaleDateString('tr-TR')
  });
  leaders.sort((a,b) => b.score - a.score);
  leaders = leaders.slice(0, 10);
  localStorage.setItem('leaderboard', JSON.stringify(leaders));
}

// Lider tablosunu gÃ¼ncelle
function updateLeaderboard(){
  let leaders = JSON.parse(localStorage.getItem('leaderboard') || '[]');
  let html = '';
  if(leaders.length === 0){
    html = '<p style="text-align:center;color:#94a3b8;">HenÃ¼z kayÄ±t yok</p>';
  } else {
    leaders.forEach((l, i) => {
      html += `<div class="leader-item">
        <span>${i+1}. ${l.difficulty} - ${l.date}</span>
        <span>ğŸ’°${l.score} ğŸ”¥${l.streak}</span>
      </div>`;
    });
  }
  document.getElementById('leaderList').innerHTML = html;
}

// Ä°statistikleri gÃ¼ncelle
function updateStats(){
  let s = gameState.stats;
  let total = s.dogru + s.yanlis;
  let oran = total > 0 ? Math.round((s.dogru / total) * 100) : 0;
  let html = `
    <div class="stat-row"><span>Toplam Soru:</span><span>${total}</span></div>
    <div class="stat-row"><span>DoÄŸru:</span><span style="color:#22c55e">âœ… ${s.dogru}</span></div>
    <div class="stat-row"><span>YanlÄ±ÅŸ:</span><span style="color:#ef4444">âŒ ${s.yanlis}</span></div>
    <div class="stat-row"><span>BaÅŸarÄ± OranÄ±:</span><span style="color:#38bdf8"><b>%${oran}</b></span></div>
  `;
  document.getElementById('categoryStats').innerHTML = html;
}

// Ä°statistikleri sÄ±fÄ±rla
function resetStats(){
  if(confirm('TÃ¼m istatistikler silinecek. Emin misiniz?')){
    localStorage.clear();
    gameState.totalScore = 0;
    gameState.highStreak = 0;
    gameState.stats = {dogru:0, yanlis:0};
    updateStats();
    updateHomeScreen();
    alert('Ä°statistikler sÄ±fÄ±rlandÄ±!');
  }
}

// ZamanlayÄ±cÄ±
function startTimer(){
  gameState.timeLeft = gameState.difficulty === 'kolay' ? 30 : gameState.difficulty === 'orta' ? 20 : 15;
  updateTimer();
  gameState.timerInterval = setInterval(()=>{
    gameState.timeLeft--;
    updateTimer();
    if(gameState.timeLeft <= 0){
      stopTimer();
      document.getElementById("result").innerHTML = "â° SÃ¼re Doldu!<br>âœ… DoÄŸru: " + current.a;
      gameState.currentStreak = 0;
      gameState.stats.yanlis++;
      localStorage.setItem('stats', JSON.stringify(gameState.stats));
      updateDisplay();
      setTimeout(()=>{
        if(gameState.questionNumber >= gameState.maxQuestions){
          endGame();
        } else {
          gameState.questionNumber++;
          newQuestion();
          if(gameState.timerEnabled) startTimer();
        }
      }, 2000);
    }
  }, 1000);
}

function stopTimer(){
  if(gameState.timerInterval){
    clearInterval(gameState.timerInterval);
    gameState.timerInterval = null;
  }
}

function updateTimer(){
  let color = gameState.timeLeft > 10 ? '#22c55e' : gameState.timeLeft > 5 ? '#f59e0b' : '#ef4444';
  document.getElementById("timer").innerHTML = `â± ${gameState.timeLeft}`;
  document.getElementById("timer").style.color = color;
}

function toggleTimer(){
  gameState.timerEnabled = !gameState.timerEnabled;
  document.getElementById("timerStatus").innerText = gameState.timerEnabled ? "AÃ§Ä±k" : "KapalÄ±";
}

// Ekran gÃ¼ncelleme
function updateDisplay(){
  document.getElementById("money").innerText = "ğŸ’° " + gameState.money;
  document.getElementById("streak").innerText = "ğŸ”¥ " + gameState.currentStreak;
  document.getElementById("questionCount").innerText = gameState.questionNumber + "/10";
  document.getElementById("mode").innerText = "KarÄ±ÅŸÄ±k";
  
  let badge = document.getElementById("difficultyDisplay");
  badge.innerText = gameState.difficulty.charAt(0).toUpperCase() + gameState.difficulty.slice(1);
  badge.className = "difficulty-badge " + (gameState.difficulty === 'kolay' ? 'easy' : gameState.difficulty === 'orta' ? 'medium' : 'hard');
}

// Rastgele sayÄ±
function rand(min,max){
  return Math.floor(Math.random()*(max-min+1))+min;
}

// Soru Ã¼retimi
function newQuestion(){
  updateDisplay();
  
  // Zorluk seviyesine gÃ¶re filtrele
  let filtered = questionPool.filter(q => {
    if(gameState.difficulty === 'kolay') return q.diff === 'kolay';
    if(gameState.difficulty === 'orta') return q.diff === 'kolay' || q.diff === 'orta';
    return true; // zor modda tÃ¼m sorular
  });
  
  // KullanÄ±lmamÄ±ÅŸ sorularÄ± al
  let available = filtered.filter((q, i) => !usedQuestions.includes(filtered.indexOf(q)));
  
  // EÄŸer tÃ¼m sorular bittiyse resetle
  if(available.length === 0){
    usedQuestions = [];
    available = filtered;
  }
  
  // Rastgele soru seÃ§
  let randomQ = available[rand(0, available.length - 1)];
  let originalIndex = filtered.indexOf(randomQ);
  usedQuestions.push(originalIndex);
  
  current = {q: randomQ.q, a: randomQ.a};
  showQuestion();
}

function showQuestion(){
  document.getElementById("question").innerText = current.q;
  document.getElementById("answer").value="";
  document.getElementById("result").innerText="";
  document.getElementById("answer").focus();
}

// KullanÄ±cÄ± cevabÄ±nÄ± normalize et
function norm(x){
  return x.toLowerCase()
    .replace(/ /g,'')
    .replace(/Ã§/g,'c')
    .replace(/Ä±/g,'i')
    .replace(/ÄŸ/g,'g')
    .replace(/Ã¶/g,'o')
    .replace(/ÅŸ/g,'s')
    .replace(/Ã¼/g,'u')
    .replace(/â‚‚/g,'2')
    .replace(/â‚ƒ/g,'3')
    .replace(/â‚„/g,'4')
    .replace(/â‚…/g,'5')
    .replace(/â‚†/g,'6')
    .replace(/â‚‡/g,'7')
    .replace(/â‚ˆ/g,'8')
    .trim();
}

// CevabÄ± kontrol et
function check(){
  let g = norm(document.getElementById("answer").value);
  let cevap = norm(current.a);
  
  stopTimer();
  
  if(g === cevap){
    gameState.money++;
    gameState.currentStreak++;
    document.getElementById("result").innerText="âœ… DoÄŸru!";
    gameState.stats.dogru++;
    localStorage.setItem('stats', JSON.stringify(gameState.stats));
    
    setTimeout(()=>{
      if(gameState.questionNumber >= gameState.maxQuestions){
        endGame();
      } else {
        gameState.questionNumber++;
        newQuestion();
        if(gameState.timerEnabled) startTimer();
      }
    }, 800);
  } else {
    gameState.currentStreak = 0;
    document.getElementById("result").innerHTML = `âŒ YanlÄ±ÅŸ<br>âœ… DoÄŸru: ${current.a}`;
    gameState.stats.yanlis++;
    localStorage.setItem('stats', JSON.stringify(gameState.stats));
    
    setTimeout(()=>{
      if(gameState.questionNumber >= gameState.maxQuestions){
        endGame();
      } else {
        gameState.questionNumber++;
        newQuestion();
        if(gameState.timerEnabled) startTimer();
      }
    }, 2000);
  }
  updateDisplay();
}

// Ä°pucu
function hint(){
  if(gameState.money < 5){
    alert("Yetersiz para! Ä°pucu iÃ§in en az 5 puan gerekli.");
    return;
  }
  gameState.money -= 5;
  document.getElementById("money").innerText = "ğŸ’° " + gameState.money;
  document.getElementById("result").innerText = "ğŸ’¡ Cevap: " + current.a;
}

// Sayfa yÃ¼klendiÄŸinde
window.onload = function(){
  updateHomeScreen();
};
</script>

</body>
</html>